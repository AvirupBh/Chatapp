{"ast":null,"code":"var _jsxFileName = \"/home/avirup/chatapp/chat-app-master/inner/src/components/MessagesControl.js\";\nimport sendIcon from \"../assets/send.png\";\nimport attachment from '../assets/send_image.png';\nimport cancel from \"../assets/cancel.png\";\nimport image from \"../assets/image.png\";\nimport background from \"../assets/images.jpeg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function MessagesControl(props) {\n  const {\n    sendMessage,\n    value,\n    onChange,\n    groupMessage,\n    sortNames,\n    username,\n    receiver,\n    setMedia,\n    onChatClose,\n    media\n  } = props;\n  const messages = groupMessage ? groupMessage[sortNames(username, receiver)] : [];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"online-users-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          margin: \"0 10px\",\n          cursor: \"pointer\"\n        },\n        children: receiver\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          margin: \"0 10px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          onClick: onChatClose,\n          width: \"10px\",\n          src: cancel,\n          alt: \"close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message-area\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: background,\n        width: \"1000px\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: messages && messages.length > 0 ? messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            style: {\n              flexDirection: username === msg.receiver ? \"row\" : \"row-reverse\"\n            },\n            children: [msg.message !== \"\" || msg.media ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-pic\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: require(`../users/${msg.avatar}`)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 44,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 54\n            }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [msg.media && msg.media.image ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"image-container\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: msg.media.content,\n                  width: \"250\",\n                  alt: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 53,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 23\n              }, this) : null, msg.message !== \"\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message-text\",\n                children: msg.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 44\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 17\n          }, this)) : null\n        }, void 0, false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [media !== null ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"attachment-display\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: image,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"attachment-name\",\n          children: media.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"remove-attachment\",\n          onClick: () => {\n            setMedia(null);\n          },\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 29\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: sendMessage,\n        className: \"message-control\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: value,\n          onChange: onChange,\n          placeholder: \"Type your message...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"file-input-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            onChange: e => {\n              const file = e.target.files[0];\n              console.log(file);\n              const reader = new FileReader();\n              reader.readAsDataURL(file);\n\n              reader.onload = function () {\n                //console.log(reader.result);\n                setMedia({\n                  image: true,\n                  content: reader.result,\n                  name: file.name\n                });\n              };\n\n              reader.onerror = function (error) {\n                console.log(error);\n              };\n            },\n            id: \"hidden-file\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"hidden-file\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              width: 28,\n              src: attachment,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: sendIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              display: \"inline-block\"\n            },\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n}\n/**/\n//  TODO: Press enter to send messages\n//  implement login/register screen\n//  store passwords for users\n//  implement public chat\n//  public chat should display each message sender name\n//  optional: implement date/time for each messaage\n\n_c = MessagesControl;\n\nvar _c;\n\n$RefreshReg$(_c, \"MessagesControl\");","map":{"version":3,"sources":["/home/avirup/chatapp/chat-app-master/inner/src/components/MessagesControl.js"],"names":["sendIcon","attachment","cancel","image","background","MessagesControl","props","sendMessage","value","onChange","groupMessage","sortNames","username","receiver","setMedia","onChatClose","media","messages","margin","cursor","length","map","msg","index","flexDirection","message","require","avatar","content","name","e","file","target","files","console","log","reader","FileReader","readAsDataURL","onload","result","onerror","error","display"],"mappings":";AAAA,OAAOA,QAAP,MAAqB,oBAArB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,UAAP,MAAuB,uBAAvB;;;AAEA,eAAe,SAASC,eAAT,CAAyBC,KAAzB,EAAgC;AAE7C,QAAM;AACJC,IAAAA,WADI;AAEJC,IAAAA,KAFI;AAGJC,IAAAA,QAHI;AAIJC,IAAAA,YAJI;AAKJC,IAAAA,SALI;AAMJC,IAAAA,QANI;AAOJC,IAAAA,QAPI;AAQJC,IAAAA,QARI;AASJC,IAAAA,WATI;AAUJC,IAAAA;AAVI,MAWFV,KAXJ;AAaA,QAAMW,QAAQ,GAAGP,YAAY,GAAGA,YAAY,CAACC,SAAS,CAACC,QAAD,EAAWC,QAAX,CAAV,CAAf,GAAiD,EAA9E;AAEA,sBACE;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA,8BACE;AAAK,QAAA,KAAK,EAAE;AAAEK,UAAAA,MAAM,EAAE,QAAV;AAAqBC,UAAAA,MAAM,EAAC;AAA5B,SAAZ;AAAA,kBAAqDN;AAArD;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAK,QAAA,KAAK,EAAI;AAACK,UAAAA,MAAM,EAAC;AAAR,SAAd;AAAA,+BACE;AAAK,UAAA,OAAO,EAAEH,WAAd;AAA2B,UAAA,KAAK,EAAG,MAAnC;AAA0C,UAAA,GAAG,EAAEb,MAA/C;AAAuD,UAAA,GAAG,EAAC;AAA3D;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAOE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA,8BACE;AAAK,QAAA,GAAG,EAAEE,UAAV;AAAsB,QAAA,KAAK,EAAC;AAA5B;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAA,+BACE;AAAA,oBAEIa,QAAQ,IAAIA,QAAQ,CAACG,MAAT,GAAkB,CAA9B,GAAkCH,QAAQ,CAACI,GAAT,CAAa,CAACC,GAAD,EAAMC,KAAN,kBAC7C;AAAI,YAAA,KAAK,EAAE;AACTC,cAAAA,aAAa,EAAGZ,QAAQ,KAAGU,GAAG,CAACT,QAAf,GAA0B,KAA1B,GAAkC;AADzC,aAAX;AAAA,uBAKES,GAAG,CAACG,OAAJ,KAAgB,EAAhB,IAAsBH,GAAG,CAACN,KAA1B,gBAAmC;AAAK,cAAA,SAAS,EAAC,UAAf;AAAA,qCACjC;AAAK,gBAAA,GAAG,EAAEU,OAAO,CAAE,YAAWJ,GAAG,CAACK,MAAO,EAAxB;AAAjB;AAAA;AAAA;AAAA;AAAA;AADiC;AAAA;AAAA;AAAA;AAAA,oBAAnC,GAEU,IAPZ,eAUE;AAAA,yBAEIL,GAAG,CAACN,KAAJ,IAAaM,GAAG,CAACN,KAAJ,CAAUb,KAAvB,gBAEA;AAAK,gBAAA,SAAS,EAAC,iBAAf;AAAA,uCACE;AAAK,kBAAA,GAAG,EAAImB,GAAG,CAACN,KAAJ,CAAUY,OAAtB;AAA+B,kBAAA,KAAK,EAAC,KAArC;AAA2C,kBAAA,GAAG,EAAC;AAA/C;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAFA,GAIY,IANhB,EAOGN,GAAG,CAACG,OAAJ,KAAgB,EAAhB,gBAAsB;AAAK,gBAAA,SAAS,EAAC,cAAf;AAAA,0BAA+BH,GAAG,CAACG;AAAnC;AAAA;AAAA;AAAA;AAAA,sBAAtB,GAA2E,IAP9E;AAAA;AAAA;AAAA;AAAA;AAAA,oBAVF;AAAA,aAEQF,KAFR;AAAA;AAAA;AAAA;AAAA,kBADgC,CAAlC,GAqBY;AAvBhB;AADF;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YAPF,eAsCE;AAAA,iBAEIP,KAAK,KAAK,IAAV,gBAAkB;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA,gCAClB;AAAK,UAAA,GAAG,EAAEb,KAAV;AAAiB,UAAA,GAAG,EAAE;AAAtB;AAAA;AAAA;AAAA;AAAA,gBADkB,eAElB;AAAM,UAAA,SAAS,EAAC,iBAAhB;AAAA,oBAAmCa,KAAK,CAACa;AAAzC;AAAA;AAAA;AAAA;AAAA,gBAFkB,eAGlB;AAAM,UAAA,SAAS,EAAC,mBAAhB;AAAoC,UAAA,OAAO,EAAE,MAAM;AACjDf,YAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,WAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHkB;AAAA;AAAA;AAAA;AAAA;AAAA,cAAlB,GAMQ,IARZ,eAUA;AAAM,QAAA,QAAQ,EAAEP,WAAhB;AAA6B,QAAA,SAAS,EAAC,iBAAvC;AAAA,gCACE;AAAU,UAAA,KAAK,EAAEC,KAAjB;AAAwB,UAAA,QAAQ,EAAEC,QAAlC;AAA4C,UAAA,WAAW,EAAC;AAAxD;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAK,UAAA,SAAS,EAAC,sBAAf;AAAA,kCACE;AAAO,YAAA,IAAI,EAAC,MAAZ;AAAmB,YAAA,QAAQ,EAAGqB,CAAD,IAAO;AAClC,oBAAMC,IAAI,GAAGD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAb;AACAC,cAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;AACA,oBAAMK,MAAM,GAAG,IAAIC,UAAJ,EAAf;AACAD,cAAAA,MAAM,CAACE,aAAP,CAAqBP,IAArB;;AACAK,cAAAA,MAAM,CAACG,MAAP,GAAgB,YAAY;AAC1B;AACAzB,gBAAAA,QAAQ,CAAC;AACPX,kBAAAA,KAAK,EAAE,IADA;AAEPyB,kBAAAA,OAAO,EAAEQ,MAAM,CAACI,MAFT;AAGPX,kBAAAA,IAAI,EAAEE,IAAI,CAACF;AAHJ,iBAAD,CAAR;AAKD,eAPD;;AAQAO,cAAAA,MAAM,CAACK,OAAP,GAAiB,UAAUC,KAAV,EAAiB;AAChCR,gBAAAA,OAAO,CAACC,GAAR,CAAYO,KAAZ;AACD,eAFD;AAGD,aAhBD;AAgBG,YAAA,EAAE,EAAC;AAhBN;AAAA;AAAA;AAAA;AAAA,kBADF,eAkBE;AAAO,YAAA,OAAO,EAAC,aAAf;AAAA,mCACE;AAAK,cAAA,KAAK,EAAE,EAAZ;AAAgB,cAAA,GAAG,EAAEzC,UAArB;AAAiC,cAAA,GAAG,EAAC;AAArC;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAlBF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAwBE;AAAA,kCACE;AAAK,YAAA,GAAG,EAAED;AAAV;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAM,YAAA,KAAK,EAAE;AAAE2C,cAAAA,OAAO,EAAE;AAAX,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAxBF;AAAA;AAAA;AAAA;AAAA;AAAA,cAVA;AAAA;AAAA;AAAA;AAAA;AAAA,YAtCF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAoFD;AAED;AAEA;AACA;AACA;AACA;AACA;AACA;;KA9GwBtC,e","sourcesContent":["import sendIcon from \"../assets/send.png\"\nimport attachment from '../assets/send_image.png';\nimport cancel from \"../assets/cancel.png\"\nimport image from \"../assets/image.png\"\nimport background from \"../assets/images.jpeg\"\n\nexport default function MessagesControl(props) {\n\n  const { \n    sendMessage, \n    value, \n    onChange, \n    groupMessage, \n    sortNames, \n    username, \n    receiver, \n    setMedia, \n    onChatClose,\n    media\n  } = props;\n\n  const messages = groupMessage ? groupMessage[sortNames(username, receiver)] : [];\n\n  return (\n    <div>\n      <div className='online-users-header'>\n        <div style={{ margin: \"0 10px\" , cursor:\"pointer\"}}>{receiver}</div>\n        <div style = {{margin:\"0 10px\"}}>\n          <img onClick={onChatClose} width = \"10px\" src={cancel} alt=\"close\"/>\n        </div>\n      </div>\n      <div className='message-area'>\n        <img src={background} width=\"1000px\"/>\n        <ul>\n          <>\n            {\n              messages && messages.length > 0 ? messages.map((msg, index) => (\n                <li style={{\n                  flexDirection : username===msg.receiver ? \"row\" : \"row-reverse\",\n                }} key={index}>\n\n                  {\n                  msg.message !== \"\" || msg.media ? (<div className='user-pic'>\n                    <img src={require(`../users/${msg.avatar}`)} />\n                  </div>) : null\n                  }\n                  \n                  <div>\n                    {\n                      msg.media && msg.media.image ? \n                      (  \n                      <div className=\"image-container\">\n                        <img src = {msg.media.content} width=\"250\" alt=\"\"/>\n                        </div>) : null}\n                    {msg.message !== \"\" ? (<div className='message-text'>{msg.message}</div> ): null}\n                  </div>\n\n                </li>)) : null\n            }\n          </>\n        </ul>\n      </div>\n      <div>\n        {\n          media !== null ? (<div className=\"attachment-display\">\n          <img src={image} alt={\"\"}/>\n          <span className=\"attachment-name\">{media.name}</span>\n          <span className=\"remove-attachment\" onClick={() => {\n            setMedia(null);\n          }}>×</span>\n        </div>) : null\n        }\n      <form onSubmit={sendMessage} className='message-control'>\n        <textarea value={value} onChange={onChange} placeholder='Type your message...' />\n        <div className='file-input-container'>\n          <input type=\"file\" onChange={(e) => {\n            const file = e.target.files[0];\n            console.log(file);\n            const reader = new FileReader();\n            reader.readAsDataURL(file);\n            reader.onload = function () {\n              //console.log(reader.result);\n              setMedia({\n                image: true,\n                content: reader.result,\n                name: file.name,\n              });\n            };\n            reader.onerror = function (error) {\n              console.log(error);\n            };\n          }} id='hidden-file' />\n          <label htmlFor=\"hidden-file\">\n            <img width={28} src={attachment} alt=\"\" />\n          </label>\n        </div>\n        <button>\n          <img src={sendIcon} />\n          <span style={{ display: \"inline-block\" }}>\n            Send\n          </span>\n        </button>\n      </form>\n      </div>\n      \n    </div>\n  )\n}\n\n/**/\n\n//  TODO: Press enter to send messages\n//  implement login/register screen\n//  store passwords for users\n//  implement public chat\n//  public chat should display each message sender name\n//  optional: implement date/time for each messaage\n"]},"metadata":{},"sourceType":"module"}